<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>全选和取消全选</title>

</head>
<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
	  <thead>
		<tr>
			<th><input type="checkbox" onclick="checkAll(this)"/>全选</th>
			<th>管理员ID</th>
			<th>姓名</th>
			<th>操作</th>
		</tr>
	  </thead>
	  <tbody>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"/></td>
	  		<td>1</td>
	  		<td>Tester</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"/></td>
	  		<td>2</td>
	  		<td>Manager</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"/></td>
	  		<td>3</td>
	  		<td>Analyst</td>
	  		<td>修改 删除</td>
	  	</tr>
	  	<tr>
	  		<td><input type="checkbox" name="adminID"/></td>
	  		<td>4</td>
	  		<td>Admin</td>
	  		<td>修改 删除</td>
	  	</tr>
	  </tbody>
	</table>
  <script>
    //找到tbody中type属性为checkbox的所有chb元素，保存在chbs中
    var chbs=document.querySelectorAll(
        "tbody [type='checkbox']"
    );
    //遍历chbs中每个chb
    for(var i=0;i<chbs.length;i++){
      //设置当前chb的onclick属性/事件为function
      chbs[i].onclick=function(){//this->当前chb
        //找到tbody中type属性为checkbox的未选中的一个chb
        var chb=document.querySelector(
          "tbody [type='checkbox']:not(:checked)"
        );
        //查找thead下type为checkbox的chbAll，设置其checked为:如果chb是null?true:false
        document.querySelector(
          "thead [type='checkbox'"
        ).checked=chb==null?true:false;
      }//chb.onclick()
    }
    function checkAll(chbAll){
      //找到tbody中type属性为checkbox的所有chb元素，保存在chbs中
      var chbs=document.querySelectorAll(
        "tbody [type='checkbox']"
      );
      //遍历chbs中每个chb
      for(var i=0;i<chbs.length;i++){
        //设置当前chb的checked和chbAll的checked保持一致
        chbs[i].checked=chbAll.checked;
      }
    }
  </script>
</body>
</html>
