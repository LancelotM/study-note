(function(j,p,o){p.mock={};p.mock.$BrowserProvider=function(){this.$get=function(){return new p.mock.$Browser()}};p.mock.$Browser=function(){var q=this;this.isMock=true;q.$$url="http://server/";q.$$lastUrl=q.$$url;q.pollFns=[];q.$$completeOutstandingRequest=p.noop;q.$$incOutstandingRequestCount=p.noop;q.onUrlChange=function(r){q.pollFns.push(function(){if(q.$$lastUrl!==q.$$url||q.$$state!==q.$$lastState){q.$$lastUrl=q.$$url;q.$$lastState=q.$$state;r(q.$$url,q.$$state)}});return r};q.$$applicationDestroyed=p.noop;q.$$checkUrlChange=p.noop;q.deferredFns=[];q.deferredNextId=0;q.defer=function(r,s){s=s||0;q.deferredFns.push({time:(q.defer.now+s),fn:r,id:q.deferredNextId});q.deferredFns.sort(function(u,t){return u.time-t.time});return q.deferredNextId++};q.defer.now=0;q.defer.cancel=function(r){var s;p.forEach(q.deferredFns,function(u,t){if(u.id===r){s=t}});if(s!==o){q.deferredFns.splice(s,1);return true}return false};q.defer.flush=function(r){if(p.isDefined(r)){q.defer.now+=r}else{if(q.deferredFns.length){q.defer.now=q.deferredFns[q.deferredFns.length-1].time}else{throw new Error("No deferred tasks to be flushed")}}while(q.deferredFns.length&&q.deferredFns[0].time<=q.defer.now){q.deferredFns.shift().fn()}};q.$$baseHref="/";q.baseHref=function(){return this.$$baseHref}};p.mock.$Browser.prototype={poll:function n(){p.forEach(this.pollFns,function(q){q()})},url:function(s,q,r){if(p.isUndefined(r)){r=null}if(s){this.$$url=s;this.$$state=p.copy(r);return this}return this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(q){q()}};p.mock.$ExceptionHandlerProvider=function(){var q;this.mode=function(s){switch(s){case"log":case"rethrow":var r=[];q=function(t){if(arguments.length==1){r.push(t)}else{r.push([].slice.call(arguments,0))}if(s==="rethrow"){throw t}};q.errors=r;break;default:throw new Error("Unknown mode '"+s+"', only 'log'/'rethrow' modes are allowed!")}};this.$get=function(){return q};this.mode("rethrow")};p.mock.$LogProvider=function(){var q=true;function r(u,t,s){return u.concat(Array.prototype.slice.call(t,s))}this.debugEnabled=function(s){if(p.isDefined(s)){q=s;return this}else{return q}};this.$get=function(){var s={log:function(){s.log.logs.push(r([],arguments,0))},warn:function(){s.warn.logs.push(r([],arguments,0))},info:function(){s.info.logs.push(r([],arguments,0))},error:function(){s.error.logs.push(r([],arguments,0))},debug:function(){if(q){s.debug.logs.push(r([],arguments,0))}}};s.reset=function(){s.log.logs=[];s.info.logs=[];s.warn.logs=[];s.error.logs=[];s.debug.logs=[]};s.assertEmpty=function(){var t=[];p.forEach(["error","warn","info","log","debug"],function(u){p.forEach(s[u].logs,function(v){p.forEach(v,function(w){t.push("MOCK $log ("+u+"): "+String(w)+"\n"+(w.stack||""))})})});if(t.length){t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:");t.push("");throw new Error(t.join("\n---------\n"))}};s.reset();return s}};p.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,s,w,u){var q=[],v=0,x=0;var r=function(I,D,G,F){var C=arguments.length>4,H=C?Array.prototype.slice.call(arguments,4):[],A=0,B=(p.isDefined(F)&&!F),y=(B?u:w).defer(),z=y.promise;G=(p.isDefined(G))?G:0;z.then(null,null,(!C)?I:function(){I.apply(null,H)});z.$$intervalId=v;function E(){y.notify(A++);if(G>0&&A>=G){var J;y.resolve(A);p.forEach(q,function(L,K){if(L.id===z.$$intervalId){J=K}});if(J!==o){q.splice(J,1)}}if(B){t.defer.flush()}else{s.$apply()}}q.push({nextTime:(x+D),delay:D,fn:E,id:v,deferred:y});q.sort(function(K,J){return K.nextTime-J.nextTime});v++;return z};r.cancel=function(z){if(!z){return false}var y;p.forEach(q,function(A,B){if(A.id===z.$$intervalId){y=B}});if(y!==o){q[y].deferred.reject("canceled");q.splice(y,1);return true}return false};r.flush=function(z){x+=z;while(q.length&&q[0].nextTime<=x){var y=q[0];y.fn();y.nextTime+=y.delay;q.sort(function(A,B){return A.nextTime-B.nextTime})}return z};return r}]};var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;function a(r){var q;if(q=r.match(e)){var u=new Date(0),t=0,s=0;if(q[9]){t=i(q[9]+q[10]);s=i(q[9]+q[11])}u.setUTCFullYear(i(q[1]),i(q[2])-1,i(q[3]));u.setUTCHours(i(q[4]||0)-t,i(q[5]||0)-s,i(q[6]||0),i(q[7]||0));return u}return r}function i(q){return parseInt(q,10)}function b(t,q,s){var r="";if(t<0){r="-";t=-t}t=""+t;while(t.length<q){t="0"+t}if(s){t=t.substr(t.length-q)}return r+t}p.mock.TzDate=function(r,v){var s=new Date(0);if(p.isString(v)){var t=v;s.origDate=a(v);v=s.origDate.getTime();if(isNaN(v)){throw {name:"Illegal Argument",message:"Arg '"+t+"' passed into TzDate constructor is not a valid date string"}}}else{s.origDate=new Date(v)}var q=new Date(v).getTimezoneOffset();s.offsetDiff=q*60*1000-r*1000*60*60;s.date=new Date(v+s.offsetDiff);s.getTime=function(){return s.date.getTime()-s.offsetDiff};s.toLocaleDateString=function(){return s.date.toLocaleDateString()};s.getFullYear=function(){return s.date.getFullYear()};s.getMonth=function(){return s.date.getMonth()};s.getDate=function(){return s.date.getDate()};s.getHours=function(){return s.date.getHours()};s.getMinutes=function(){return s.date.getMinutes()};s.getSeconds=function(){return s.date.getSeconds()};s.getMilliseconds=function(){return s.date.getMilliseconds()};s.getTimezoneOffset=function(){return r*60};s.getUTCFullYear=function(){return s.origDate.getUTCFullYear()};s.getUTCMonth=function(){return s.origDate.getUTCMonth()};s.getUTCDate=function(){return s.origDate.getUTCDate()};s.getUTCHours=function(){return s.origDate.getUTCHours()};s.getUTCMinutes=function(){return s.origDate.getUTCMinutes()};s.getUTCSeconds=function(){return s.origDate.getUTCSeconds()};s.getUTCMilliseconds=function(){return s.origDate.getUTCMilliseconds()};s.getDay=function(){return s.date.getDay()};if(s.toISOString){s.toISOString=function(){return b(s.origDate.getUTCFullYear(),4)+"-"+b(s.origDate.getUTCMonth()+1,2)+"-"+b(s.origDate.getUTCDate(),2)+"T"+b(s.origDate.getUTCHours(),2)+":"+b(s.origDate.getUTCMinutes(),2)+":"+b(s.origDate.getUTCSeconds(),2)+"."+b(s.origDate.getUTCMilliseconds(),3)+"Z"}}var u=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];p.forEach(u,function(w){s[w]=function(){throw new Error("Method '"+w+"' is not implemented in the TzDate mock")}});return s};p.mock.TzDate.prototype=Date.prototype;p.mock.animate=p.module("ngAnimateMock",["ng"]).config(["$provide",function(r){var q=[];r.value("$$animateReflow",function(t){var s=q.length;q.push(t);return function u(){q.splice(s,1)}});r.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser","$$rAF",function(u,x,v,s,w){var t={queue:[],cancel:u.cancel,enabled:u.enabled,triggerCallbackEvents:function(){w.flush();x.flush()},triggerCallbackPromise:function(){v.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents();this.triggerCallbackPromise()},triggerReflow:function(){p.forEach(q,function(y){y()});q=[]}};p.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(y){t[y]=function(){t.queue.push({event:y,element:arguments[0],options:arguments[arguments.length-1],args:arguments});return u[y].apply(u,arguments)}});return t}])}]);p.mock.dump=function(s){return q(s);function q(u){var t;if(p.isElement(u)){u=p.element(u);t=p.element("<div></div>");p.forEach(u,function(v){t.append(p.element(v).clone())});t=t.html()}else{if(p.isArray(u)){t=[];p.forEach(u,function(v){t.push(q(v))});t="[ "+t.join(", ")+" ]"}else{if(p.isObject(u)){if(p.isFunction(u.$eval)&&p.isFunction(u.$apply)){t=r(u)}else{if(u instanceof Error){t=u.stack||(""+u.name+": "+u.message)}else{t=p.toJson(u,true)}}}else{t=String(u)}}}return t}function r(v,w){w=w||"  ";var u=[w+"Scope("+v.$id+"): {"];for(var t in v){if(Object.prototype.hasOwnProperty.call(v,t)&&!t.match(/^(\$|this)/)){u.push("  "+t+": "+p.toJson(v[t]))}}var x=v.$$childHead;while(x){u.push(r(x,w+"  "));x=x.$$nextSibling}u.push("}");return u.join("\n"+w)}};p.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",h]};function h(x,r,s,z){var y=[],q=[],v=[],t=p.bind(v,v.push),A=p.copy;function u(D,E,C,F){if(p.isFunction(D)){return D}return function(){return p.isNumber(D)?[D,E,C,F]:[200,D,E,C]}}function w(I,K,M,P,G,O,J){var E=new f(),C=q[0],N=false;function H(Q){return(p.isString(Q)||p.isFunction(Q)||Q instanceof RegExp)?Q:p.toJson(Q)}function F(Q){if(!z&&O){O.then?O.then(S):r(S,O)}return R;function R(){var T=Q.response(I,K,M,G);E.$$respHeaders=T[2];P(A(T[0]),A(T[1]),E.getAllResponseHeaders(),A(T[3]||""))}function S(){for(var T=0,U=v.length;T<U;T++){if(v[T]===R){v.splice(T,1);P(-1,o,"");break}}}}if(C&&C.match(I,K)){if(!C.matchData(M)){throw new Error("Expected "+C+" with different data\nEXPECTED: "+H(C.data)+"\nGOT:      "+M)}if(!C.matchHeaders(G)){throw new Error("Expected "+C+" with different headers\nEXPECTED: "+H(C.headers)+"\nGOT:      "+H(G))}q.shift();if(C.response){v.push(F(C));return}N=true}var L=-1,D;while((D=y[++L])){if(D.match(I,K,M,G||{})){if(D.response){(z?z.defer:t)(F(D))}else{if(D.passThrough){s(I,K,M,P,G,O,J)}else{throw new Error("No response defined !")}}return}}throw N?new Error("No response defined !"):new Error("Unexpected request: "+I+" "+K+"\n"+(C?"Expected "+C:"No more request expected"))}w.when=function(C,D,G,H){var F=new d(C,D,G,H),E={respond:function(K,L,J,I){F.passThrough=o;F.response=u(K,L,J,I);return E}};if(z){E.passThrough=function(){F.response=o;F.passThrough=true;return E}}y.push(F);return E};B("when");w.expect=function(C,E,G,H){var D=new d(C,E,G,H),F={respond:function(K,L,J,I){D.response=u(K,L,J,I);return F}};q.push(D);return F};B("expect");w.flush=function(D,C){if(C!==false){x.$digest()}if(!v.length){throw new Error("No pending request to flush !")}if(p.isDefined(D)&&D!==null){while(D--){if(!v.length){throw new Error("No more pending request to flush !")}v.shift()()}}else{while(v.length){v.shift()()}}w.verifyNoOutstandingExpectation(C)};w.verifyNoOutstandingExpectation=function(C){if(C!==false){x.$digest()}if(q.length){throw new Error("Unsatisfied requests: "+q.join(", "))}};w.verifyNoOutstandingRequest=function(){if(v.length){throw new Error("Unflushed requests: "+v.length)}};w.resetExpectations=function(){q.length=0;v.length=0};return w;function B(C){p.forEach(["GET","DELETE","JSONP","HEAD"],function(D){w[C+D]=function(E,F){return w[C](D,E,o,F)}});p.forEach(["PUT","POST","PATCH"],function(D){w[C+D]=function(E,F,G){return w[C](D,E,F,G)}})}}function d(r,s,t,q){this.data=t;this.headers=q;this.match=function(v,w,u,x){if(r!=v){return false}if(!this.matchUrl(w)){return false}if(p.isDefined(u)&&!this.matchData(u)){return false}if(p.isDefined(x)&&!this.matchHeaders(x)){return false}return true};this.matchUrl=function(u){if(!s){return true}if(p.isFunction(s.test)){return s.test(u)}if(p.isFunction(s)){return s(u)}return s==u};this.matchHeaders=function(u){if(p.isUndefined(q)){return true}if(p.isFunction(q)){return q(u)}return p.equals(q,u)};this.matchData=function(u){if(p.isUndefined(t)){return true}if(t&&p.isFunction(t.test)){return t.test(u)}if(t&&p.isFunction(t)){return t(u)}if(t&&!p.isString(t)){return p.equals(p.fromJson(p.toJson(t)),p.fromJson(u))}return t==u};this.toString=function(){return r+" "+s}}function g(){return new f()}function f(){f.$$lastInstance=this;this.open=function(r,s,q){this.$$method=r;this.$$url=s;this.$$async=q;this.$$reqHeaders={};this.$$respHeaders={}};this.send=function(q){this.$$data=q};this.setRequestHeader=function(q,r){this.$$reqHeaders[q]=r};this.getResponseHeader=function(q){var r=this.$$respHeaders[q];if(r){return r}q=p.lowercase(q);r=this.$$respHeaders[q];if(r){return r}r=o;p.forEach(this.$$respHeaders,function(s,t){if(!r&&p.lowercase(t)==q){r=s}});return r};this.getAllResponseHeaders=function(){var q=[];p.forEach(this.$$respHeaders,function(r,s){q.push(s+": "+r)});return q.join("\n")};this.abort=p.noop}p.mock.$TimeoutDecorator=["$delegate","$browser",function(r,s){r.flush=function(t){s.defer.flush(t)};r.verifyNoPendingTasks=function(){if(s.deferredFns.length){throw new Error("Deferred tasks to flush ("+s.deferredFns.length+"): "+q(s.deferredFns))}};function q(u){var t=[];p.forEach(u,function(v){t.push("{id: "+v.id+", time: "+v.time+"}")});return t.join(", ")}return r}];p.mock.$RAFDecorator=["$delegate",function(r){var s=[];var q=function(u){var t=s.length;s.push(u);return function(){s.splice(t,1)}};q.supported=r.supported;q.flush=function(){if(s.length===0){throw new Error("No rAF callbacks present")}var u=s.length;for(var t=0;t<u;t++){s[t]()}s=s.slice(t)};return q}];p.mock.$AsyncCallbackDecorator=["$delegate",function(s){var q=[];var r=function(t){q.push(t)};r.flush=function(){p.forEach(q,function(t){t()});q=[]};return r}];p.mock.$RootElementProvider=function(){this.$get=function(){return p.element("<div ng-app></div>")}};p.mock.$ControllerDecorator=["$delegate",function(q){return function(r,v,s,u){if(s&&typeof s==="object"){var t=q(r,v,true,u);p.extend(t.instance,s);return t()}return q(r,v,s,u)}}];p.module("ngMock",["ng"]).provider({$browser:p.mock.$BrowserProvider,$exceptionHandler:p.mock.$ExceptionHandlerProvider,$log:p.mock.$LogProvider,$interval:p.mock.$IntervalProvider,$httpBackend:p.mock.$HttpBackendProvider,$rootElement:p.mock.$RootElementProvider}).config(["$provide",function(q){q.decorator("$timeout",p.mock.$TimeoutDecorator);q.decorator("$$rAF",p.mock.$RAFDecorator);q.decorator("$$asyncCallback",p.mock.$AsyncCallbackDecorator);q.decorator("$rootScope",p.mock.$RootScopeDecorator);q.decorator("$controller",p.mock.$ControllerDecorator)}]);p.module("ngMockE2E",["ng"]).config(["$provide",function(q){q.decorator("$httpBackend",p.mock.e2e.$httpBackendDecorator)}]);p.mock.e2e={};p.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",h];p.mock.$RootScopeDecorator=["$delegate",function(t){var q=Object.getPrototypeOf(t);q.$countChildScopes=r;q.$countWatchers=s;return t;function r(){var v=0;var w=[this.$$childHead];var u;while(w.length){u=w.shift();while(u){v+=1;w.push(u.$$childHead);u=u.$$nextSibling}}return v}function s(){var v=this.$$watchers?this.$$watchers.length:0;var w=[this.$$childHead];var u;while(w.length){u=w.shift();while(u){v+=u.$$watchers?u.$$watchers.length:0;w.push(u.$$childHead);u=u.$$nextSibling}}return v}}];if(j.jasmine||j.mocha){var c=null,l=[],k=function(){return !!c};p.mock.$$annotate=p.injector.$$annotate;p.injector.$$annotate=function(q){if(typeof q==="function"&&!q.$inject){l.push(q)}return p.mock.$$annotate.apply(this,arguments)};(j.beforeEach||j.setup)(function(){l=[];c=this});(j.afterEach||j.teardown)(function(){var q=c.$injector;l.forEach(function(r){delete r.$inject});p.forEach(c.$modules,function(r){if(r&&r.$$hashKey){r.$$hashKey=o}});c.$injector=null;c.$modules=null;c=null;if(q){q.get("$rootElement").off()}p.forEach(p.element.fragments,function(r,s){delete p.element.fragments[s]});f.$$lastInstance=null;p.forEach(p.callbacks,function(r,s){delete p.callbacks[s]});p.callbacks.counter=0});j.module=p.mock.module=function(){var q=Array.prototype.slice.call(arguments,0);return k()?r():r;function r(){if(c.$injector){throw new Error("Injector already created, can not register a module!")}else{var s=c.$modules||(c.$modules=[]);p.forEach(q,function(t){if(p.isObject(t)&&!p.isArray(t)){s.push(function(u){p.forEach(t,function(w,v){u.value(v,w)})})}else{s.push(t)}})}}};var m=function(r,q){this.message=r.message;this.name=r.name;if(r.line){this.line=r.line}if(r.sourceId){this.sourceId=r.sourceId}if(r.stack&&q){this.stack=r.stack+"\n"+q.stack}if(r.stackArray){this.stackArray=r.stackArray}};m.prototype.toString=Error.prototype.toString;j.inject=p.mock.inject=function(){var s=Array.prototype.slice.call(arguments,0);var r=new Error("Declaration Location");return k()?q.call(c):q;function q(){var u=c.$modules||[];var x=!!c.$injectorStrict;u.unshift("ngMock");u.unshift("ng");var t=c.$injector;if(!t){if(x){p.forEach(u,function(z){if(typeof z==="function"){p.injector.$$annotate(z)}})}t=c.$injector=p.injector(u,x);c.$injectorStrict=x}for(var v=0,w=s.length;v<w;v++){if(c.$injectorStrict){t.annotate(s[v])}try{t.invoke(s[v]||p.noop,this)}catch(y){if(y.stack&&r){throw new m(y,r)}throw y}finally{r=null}}}};p.mock.inject.strictDi=function(r){r=arguments.length?!!r:true;return k()?q():q;function q(){if(r!==c.$injectorStrict){if(c.$injector){throw new Error("Injector already created, can not modify strict annotations")}else{c.$injectorStrict=r}}}}}})(window,window.angular);